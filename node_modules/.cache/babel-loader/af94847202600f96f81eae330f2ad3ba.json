{"remainingRequest":"/home/lc/Desktop/Vue-ecommerce-project/node_modules/babel-loader/lib/index.js!/home/lc/Desktop/Vue-ecommerce-project/node_modules/eslint-loader/index.js??ref--13-0!/home/lc/Desktop/Vue-ecommerce-project/src/store/account/actions.js","dependencies":[{"path":"/home/lc/Desktop/Vue-ecommerce-project/src/store/account/actions.js","mtime":1648212913605},{"path":"/home/lc/Desktop/Vue-ecommerce-project/node_modules/cache-loader/dist/cjs.js","mtime":1647508607178},{"path":"/home/lc/Desktop/Vue-ecommerce-project/node_modules/babel-loader/lib/index.js","mtime":1647508607910},{"path":"/home/lc/Desktop/Vue-ecommerce-project/node_modules/eslint-loader/index.js","mtime":1647508607414}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2xjL0Rlc2t0b3AvVnVlLWVjb21tZXJjZS1wcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8gaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9yb3V0ZXInCmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9yb3V0ZXIvaW5kZXgnOwppbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgQVBJIGZyb20gJy4uL2FwaS9hcGknOwpleHBvcnQgZnVuY3Rpb24gbG9naW4oX3gsIF94MikgewogIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyBjb25zb2xlLmxvZyhlbWFpbCkKLy8gbGV0IHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjQwMDAvdXNlcnMvc2lnbmluJzsKLy8gQXhpb3MucG9zdCh1cmwsIHsKLy8gICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgIHBhc3N3b3JkOiBwYXlsb2FkLnBhc3N3b3JkCi8vIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7Ci8vICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkKLy8gICAgIGxldCB1c2VyRGF0YSA9IHsKLy8gICAgICAgICBkaXNwbGF5TmFtZTogcmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLm5hbWUuZmlyc3QsCi8vICAgICAgICAgZW1haWw6IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5lbWFpbCwKLy8gICAgICAgICBwaG90b1VSTDogcmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLnBpY3R1cmUudGh1bWJuYWlsLAovLyAgICAgICAgIHVpZDogcmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLmxvZ2luLnV1aWQKLy8gICAgIH0KLy8gICAgIGNvbW1pdCgic2V0VXNlckRhdGEiLCB1c2VyRGF0YSkKLy8gICAgIC8vIHJvdXRlci5wdXNoKCcvJykKLy8gfSkKLy8gICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKLy8gICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKLy8gICAgIH0pOwoKZnVuY3Rpb24gX2xvZ2luKCkgewogIF9sb2dpbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShjb250ZXh0LCBwYXlsb2FkKSB7CiAgICB2YXIgcmVzcG9uc2UsIFRvYXN0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIEF4aW9zLnBvc3QoIiIuY29uY2F0KEFQSS5VUkwsICIvdXNlcnMvbG9naW4iKSwgewogICAgICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmVtYWlsLAogICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXlsb2FkLnBhc3N3b3JkCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0VXNlckRhdGEnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0TG9nZ2VkaW4nLCB0cnVlKTsKICAgICAgICAgICAgICBUb2FzdCA9IFN3YWwubWl4aW4oewogICAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgICAgICAgICB0aW1lclByb2dyZXNzQmFyOiB0cnVlLAogICAgICAgICAgICAgICAgZGlkT3BlbjogZnVuY3Rpb24gZGlkT3Blbih0b2FzdCkgewogICAgICAgICAgICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgU3dhbC5zdG9wVGltZXIpOwogICAgICAgICAgICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgU3dhbC5yZXN1bWVUaW1lcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICB0aXRsZTogIiIuY29uY2F0KHJlc3BvbnNlLmRhdGEubmFtZSwgIiBzdWNjZXNzZnVsbHkgbG9nZ2VkIGluIikKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBsb2dPdXQoKSB7CiAgcmV0dXJuIF9sb2dPdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2xvZ091dCgpIHsKICBfbG9nT3V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZS1jb21LZXknKTsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJy9sb2dpbic7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwogIHJldHVybiBfbG9nT3V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0="},{"version":3,"sources":["/home/lc/Desktop/Vue-ecommerce-project/src/store/account/actions.js"],"names":["Swal","router","Axios","API","login","context","payload","post","URL","email","password","then","data","response","status","commit","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","fire","icon","title","name","push","logOut","window","localStorage","removeItem","location"],"mappings":";;;AAAA;AACA,OAAOA,IAAP,MAAiB,aAAjB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,YAAhB;AAEA,gBAAsBC,KAAtB;AAAA;AAAA,C,CA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;mEAhDO,iBAAqBC,OAArB,EAA8BC,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACkBJ,KAAK,CAACK,IAAN,WAAcJ,GAAG,CAACK,GAAlB,mBAAqC;AACtDC,cAAAA,KAAK,EAAEH,OAAO,CAACG,KADuC;AAEtDC,cAAAA,QAAQ,EAAEJ,OAAO,CAACI;AAFoC,aAArC,EAGlBC,IAHkB,CAGb,UAAUC,IAAV,EAAgB;AAAE,qBAAOA,IAAP;AAAa,aAHlB,CADlB;;AAAA;AACCC,YAAAA,QADD;;AAMH,gBAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzBT,cAAAA,OAAO,CAACU,MAAR,CAAe,aAAf,EAA8BF,QAAQ,CAACD,IAAvC;AACAP,cAAAA,OAAO,CAACU,MAAR,CAAe,aAAf,EAA8B,IAA9B;AACMC,cAAAA,KAHmB,GAGXhB,IAAI,CAACiB,KAAL,CAAW;AACrBC,gBAAAA,KAAK,EAAE,IADc;AAErBC,gBAAAA,QAAQ,EAAE,SAFW;AAGrBC,gBAAAA,iBAAiB,EAAE,KAHE;AAIrBC,gBAAAA,KAAK,EAAE,IAJc;AAKrBC,gBAAAA,gBAAgB,EAAE,IALG;AAMrBC,gBAAAA,OAAO,EAAE,iBAACL,KAAD,EAAW;AAChBA,kBAAAA,KAAK,CAACM,gBAAN,CAAuB,YAAvB,EAAqCxB,IAAI,CAACyB,SAA1C;AACAP,kBAAAA,KAAK,CAACM,gBAAN,CAAuB,YAAvB,EAAqCxB,IAAI,CAAC0B,WAA1C;AACH;AAToB,eAAX,CAHW;AAezBV,cAAAA,KAAK,CAACW,IAAN,CAAW;AACPC,gBAAAA,IAAI,EAAE,SADC;AAEPC,gBAAAA,KAAK,YAAKhB,QAAQ,CAACD,IAAT,CAAckB,IAAnB;AAFE,eAAX;AAIA7B,cAAAA,MAAM,CAAC8B,IAAP,CAAY,GAAZ;AACH;;AA1BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAiDP,gBAAsBC,MAAtB;AAAA;AAAA;;;oEAAO;AAAA;AAAA;AAAA;AAAA;AACHC,YAAAA,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,UAA/B;AACAF,YAAAA,MAAM,CAACG,QAAP,GAAkB,QAAlB;;AAFG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["// import router from '../../router'\r\nimport Swal from 'sweetalert2'\r\nimport router from '../../router/index';\r\nimport Axios from 'axios';\r\nimport API from '../api/api'\r\n\r\nexport async function login(context, payload) {\r\n    let response = await Axios.post(`${API.URL}/users/login`, {\r\n        email: payload.email,\r\n        password: payload.password\r\n    }).then(function (data) { return data });\r\n\r\n    if (response.status === 200) {\r\n        context.commit('setUserData', response.data)\r\n        context.commit('setLoggedin', true)\r\n        const Toast = Swal.mixin({\r\n            toast: true,\r\n            position: 'top-end',\r\n            showConfirmButton: false,\r\n            timer: 3000,\r\n            timerProgressBar: true,\r\n            didOpen: (toast) => {\r\n                toast.addEventListener('mouseenter', Swal.stopTimer)\r\n                toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n            }\r\n        })\r\n\r\n        Toast.fire({\r\n            icon: 'success',\r\n            title: `${response.data.name} successfully logged in`\r\n        })\r\n        router.push('/')\r\n    }\r\n}\r\n\r\n// console.log(email)\r\n// let url = 'http://localhost:4000/users/signin';\r\n// Axios.post(url, {\r\n//     name: payload.name,\r\n//     password: payload.password\r\n// }).then(function (response) {\r\n//     console.log(response)\r\n//     let userData = {\r\n//         displayName: response.data.results[0].name.first,\r\n//         email: response.data.results[0].email,\r\n//         photoURL: response.data.results[0].picture.thumbnail,\r\n//         uid: response.data.results[0].login.uuid\r\n//     }\r\n\r\n//     commit(\"setUserData\", userData)\r\n//     // router.push('/')\r\n// })\r\n//     .catch(function (error) {\r\n//         console.log(error)\r\n//     });\r\nexport async function logOut() {\r\n    window.localStorage.removeItem('e-comKey')\r\n    window.location = '/login'\r\n}\r\n"]}]}